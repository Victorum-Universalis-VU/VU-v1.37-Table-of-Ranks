#Updated for VU 1.37.* by San Felipe
#country_has_both_paradox_and_golden_bull_missions = {}
#Contributors:
#Altan
#DonBrom
#San Felipe

#VU building triggers - Altan

has_production_building_trigger = {
    OR = {
        custom_trigger_tooltip = {
            tooltip = has_production_building_trigger_tt
            OR = {
                has_building = workshop
                has_building = counting_house
                has_building = factory #VU addition
            }
        }
        custom_trigger_tooltip = {
            tooltip = silver_tooltip
            OR = {
                trade_goods = silver
                trade_goods = gold
            }
        }
    }

}

has_education_building_trigger = {
    OR = {
        has_building = library
        has_building = school
    }
}

has_transportation_trigger = {
    OR = {
        has_building = road_system #VU addition
        has_building = canal_system #VU addition
        has_building = railway_system #VU addition
    }
}

#VU subject triggers - Altan, appended by Don with some modifications + new ones

is_lordship_subject_type = {
    #check if the subject is any type of lordship
    OR = {
        is_subject_of_type = anglois_lordship
        is_subject_of_type = aragonese_lordship
        is_subject_of_type = austrian_lordship
        is_subject_of_type = baltic_lordship
        is_subject_of_type = belgian_lordship
        is_subject_of_type = bohemian_lordship
        is_subject_of_type = burgundian_lordship
        is_subject_of_type = byzantine_lordship
        is_subject_of_type = castilian_lordship
        is_subject_of_type = daimyo_vassal
        is_subject_of_type = danish_lordship
        is_subject_of_type = dutch_lordship
        is_subject_of_type = english_lordship
        is_subject_of_type = french_lordship
        is_subject_of_type = german_lordship
        is_subject_of_type = hungarian_lordship
        is_subject_of_type = italian_lordship
        is_subject_of_type = lithuanian_lordship_march
        is_subject_of_type = norwegian_lordship
        is_subject_of_type = polish_lordship
        is_subject_of_type = portuguese_lordship
        is_subject_of_type = prussian_lordship
        is_subject_of_type = russian_lordship
        is_subject_of_type = swedish_lordship
    }
}

is_barony_subject_type = {
    #check if the subject is any type of barony
    OR = {
        is_subject_of_type = anglois_barony
        is_subject_of_type = aragonese_barony
        is_subject_of_type = austrian_barony
        is_subject_of_type = baltic_barony
        is_subject_of_type = belgian_barony
        is_subject_of_type = bohemian_barony
        is_subject_of_type = burgundian_barony
        is_subject_of_type = byzantine_barony
        is_subject_of_type = castilian_barony
        is_subject_of_type = daimyo_barony_vassal
        is_subject_of_type = danish_barony
        is_subject_of_type = dutch_barony
        is_subject_of_type = english_barony
        is_subject_of_type = french_barony
        is_subject_of_type = german_barony
        is_subject_of_type = hungarian_barony
        is_subject_of_type = italian_barony
        is_subject_of_type = norwegian_barony
        is_subject_of_type = polish_barony
        is_subject_of_type = portuguese_barony
        is_subject_of_type = prussian_barony
        is_subject_of_type = russian_barony
        is_subject_of_type = swedish_barony
    }
}

is_viscounty_subject_type = {
    #check if the subject is any type of viscounty
    OR = {
        is_subject_of_type = anglois_viscounty
        is_subject_of_type = aragonese_viscounty
        is_subject_of_type = austrian_viscounty
        is_subject_of_type = baltic_viscounty
        is_subject_of_type = belgian_viscounty
        is_subject_of_type = bohemian_viscounty
        is_subject_of_type = burgundian_viscounty
        is_subject_of_type = byzantine_viscounty
        is_subject_of_type = castilian_viscounty
        is_subject_of_type = daimyo_viscounty_vassal
        is_subject_of_type = danish_viscounty
        is_subject_of_type = dutch_viscounty
        is_subject_of_type = english_viscounty
        is_subject_of_type = french_viscounty
        is_subject_of_type = german_viscounty
        is_subject_of_type = hungarian_viscounty
        is_subject_of_type = italian_viscounty
        is_subject_of_type = norwegian_viscounty
        is_subject_of_type = polish_viscounty
        is_subject_of_type = portuguese_viscounty
        is_subject_of_type = prussian_viscounty
        is_subject_of_type = russian_viscounty
        is_subject_of_type = swedish_viscounty
    }
}

is_county_subject_type = {
    #check if the subject is any type of county
    OR = {
        is_subject_of_type = anglois_county
        is_subject_of_type = aragonese_county
        is_subject_of_type = austrian_county
        is_subject_of_type = baltic_county
        is_subject_of_type = belgian_county
        is_subject_of_type = bohemian_county
        is_subject_of_type = burgundian_county
        is_subject_of_type = byzantine_county
        is_subject_of_type = castilian_county
        is_subject_of_type = daimyo_county_vassal
        is_subject_of_type = danish_county
        is_subject_of_type = dutch_county
        is_subject_of_type = french_county
        is_subject_of_type = german_county
        is_subject_of_type = hungarian_county
        is_subject_of_type = italian_county
        is_subject_of_type = norwegian_county
        is_subject_of_type = polish_county
        is_subject_of_type = portuguese_county
        is_subject_of_type = prussian_county
        is_subject_of_type = russian_county
        is_subject_of_type = swedish_county
    }
}

is_earldom_subject_type = {
    #check if the subject is any type of county
    is_subject_of_type = english_earldom
}

is_marquisate_subject_type = {
    #check if the subject is any type of marqiosate
    OR = {
        is_subject_of_type = anglois_marquisate
        is_subject_of_type = aragonese_marquisate
        is_subject_of_type = austrian_marquisate
        is_subject_of_type = baltic_marquisate
        is_subject_of_type = belgian_marquisate
        is_subject_of_type = bohemian_marquisate
        is_subject_of_type = burgundian_marquisate
        is_subject_of_type = byzantine_marquisate
        is_subject_of_type = castilian_marquisate
        is_subject_of_type = daimyo_marquisate_vassal
        is_subject_of_type = danish_marquisate
        is_subject_of_type = dutch_marquisate
        is_subject_of_type = english_marquisate
        is_subject_of_type = french_marquisate
        is_subject_of_type = german_marquisate
        is_subject_of_type = hungarian_marquisate
        is_subject_of_type = italian_marquisate
        is_subject_of_type = norwegian_marquisate
        is_subject_of_type = polish_marquisate
        is_subject_of_type = portuguese_marquisate
        is_subject_of_type = prussian_marquisate
        is_subject_of_type = russian_marquisate
        is_subject_of_type = swedish_marquisate
    }
}

is_duchy_subject_type = {
    #check if the subject is any type of duchy
    OR = {
        is_subject_of_type = anglois_duchy
        is_subject_of_type = aragonese_duchy
        is_subject_of_type = austrian_duchy
        is_subject_of_type = baltic_duchy
        is_subject_of_type = belgian_duchy
        is_subject_of_type = bohemian_duchy
        is_subject_of_type = burgundian_duchy
        is_subject_of_type = byzantine_duchy
        is_subject_of_type = castilian_duchy
        is_subject_of_type = daimyo_duchy_vassal
        is_subject_of_type = danish_duchy
        is_subject_of_type = dutch_duchy
        is_subject_of_type = english_duchy
        is_subject_of_type = french_duchy
        is_subject_of_type = german_duchy
        is_subject_of_type = hungarian_duchy
        is_subject_of_type = italian_duchy
        is_subject_of_type = lithuanian_duchy
        is_subject_of_type = norwegian_duchy
        is_subject_of_type = polish_duchy
        is_subject_of_type = portuguese_duchy
        is_subject_of_type = prussian_duchy
        is_subject_of_type = russian_duchy
        is_subject_of_type = swedish_duchy
    }
}

is_principality_subject_type = {
    #check if the subject is any type of principality
    OR = {
        is_subject_of_type = anglois_principality
        is_subject_of_type = aragonese_principality
        is_subject_of_type = austrian_principality
        is_subject_of_type = baltic_principality
        is_subject_of_type = belgian_principality
        is_subject_of_type = bohemian_principality
        is_subject_of_type = burgundian_principality
        is_subject_of_type = byzantine_principality
        is_subject_of_type = castilian_principality
        is_subject_of_type = daimyo_principality_vassal
        is_subject_of_type = danish_principality
        is_subject_of_type = dutch_principality
        is_subject_of_type = english_principality
        is_subject_of_type = french_principality
        is_subject_of_type = german_principality
        is_subject_of_type = hungarian_principality
        is_subject_of_type = italian_principality
        is_subject_of_type = lithuanian_principality
        is_subject_of_type = norwegian_principality
        is_subject_of_type = polish_principality
        is_subject_of_type = portuguese_principality
        is_subject_of_type = prussian_principality
        is_subject_of_type = russian_principality
        is_subject_of_type = swedish_principality
    }
}

is_kingdom_subject_type = {
    #check if the subject is any type of kingdom
    OR = {
        is_subject_of_type = anglois_kingdom
        is_subject_of_type = aragonese_kingdom
        is_subject_of_type = austrian_kingdom
        is_subject_of_type = baltic_kingdom
        is_subject_of_type = belgian_kingdom
        is_subject_of_type = bohemian_kingdom
        is_subject_of_type = burgundian_kingdom
        is_subject_of_type = byzantine_kingdom
        is_subject_of_type = castilian_kingdom
        is_subject_of_type = danish_kingdom
        is_subject_of_type = dutch_kingdom
        is_subject_of_type = english_kingdom
        is_subject_of_type = french_kingdom
        is_subject_of_type = german_kingdom
        is_subject_of_type = hungarian_kingdom
        is_subject_of_type = italian_kingdom
        is_subject_of_type = norwegian_kingdom
        is_subject_of_type = polish_kingdom
        is_subject_of_type = portuguese_kingdom
        is_subject_of_type = prussian_kingdom
        is_subject_of_type = russian_kingdom
        is_subject_of_type = swedish_kingdom
    }
}

is_crown_subject_type = {
    OR = {
        is_subject_of_type = anglois_crown_PU
        is_subject_of_type = aragonese_crown_PU
        is_subject_of_type = austrian_crown_PU
        is_subject_of_type = baltic_crown_PU
        is_subject_of_type = benelux_crown_PU
        is_subject_of_type = bohemian_crown_PU
        is_subject_of_type = burgundian_crown_PU
        is_subject_of_type = byzantine_crown_PU
        is_subject_of_type = danish_crown_PU
        is_subject_of_type = english_crown_PU
        is_subject_of_type = french_crown_PU
        is_subject_of_type = german_crown_PU
        is_subject_of_type = hungarian_crown_PU
        is_subject_of_type = italian_crown_PU
        is_subject_of_type = norwegian_crown_PU
        is_subject_of_type = polish_crown_PU
        is_subject_of_type = portuguese_crown_PU
        is_subject_of_type = prussian_crown_PU
        is_subject_of_type = russian_crown_PU
        is_subject_of_type = spanish_crown_PU
        is_subject_of_type = swedish_crown_PU
        is_subject_of_type = personal_union
        is_subject_of_type = integrated_personal_union
    }
}

has_ToR_government_reform = {
    OR = {
        has_reform = eue_lordship_reform
        has_reform = unlocked_eue_lordship_reform
        has_reform = eue_barony_reform
        has_reform = unlocked_eue_barony_reform
        has_reform = eue_viscounty_reform
        has_reform = unlocked_eue_viscounty_reform
        has_reform = eue_county_reform
        has_reform = unlocked_eue_county_reform
        has_reform = eue_marquisate_reform
        has_reform = unlocked_eue_marquisate_reform
        has_reform = eue_duchy_reform
        has_reform = unlocked_eue_duchy_reform
        has_reform = eue_principality_reform
        has_reform = unlocked_eue_principality_reform
        has_reform = eue_kingdom_reform
        has_reform = unlocked_eue_kingdom_reform
    }
}

has_ToR_unique_government_reform = {
    OR = {
        has_reform = scottish_monarchy                       #Scottish Monarchy
        has_reform = welsh_principality                      #Welsh Principality
        has_reform = english_monarchy                        #English Monarchy
        has_reform = british_monarchy                        #British Monarchy
        has_reform = absolute_british_monarchy               #Absolute British Monarchy
        has_reform = duchy_of_brittany_reform                #Duchy of Brittany
        has_reform = burgundian_state_reform                 #Burgundian State
        has_reform = feudal_france_reform                    #French Feudalism
        has_reform = bourgeoisie_aristocracy_reform          #Bourgeoisie Aristocracy
        has_reform = french_absolutism                       #Royaume du Soleil
        has_reform = french_kingdom_reform                   #French Monarchy
        has_reform = french_orleanist_restoration_reform     #French Orleanist Monarchy
        has_reform = crusader_state_vu_reform                #Crusader State
        has_reform = french_monarchic_restoration_reform     #French Bourbon Monarchy
        has_reform = courts_of_navarra                       #Courts of Navarra
        has_reform = kingdom_of_castile_and_leon             #Kingdom of Castile and Leon
        has_reform = crown_of_castile                        #Crown of Castile
        has_reform = hispanic_kingdom                        #Hispanic Kingdom
        has_reform = spanish_parliamentary_monarchy          #Cortes Generales
        has_reform = system_of_councils_reform               #System of Councils
        has_reform = aragonese_cortes_reform                 #Cortz d'Aragon
        has_reform = crown_of_aragon                         #Crown of Aragon
        has_reform = respect_union_reform                    #Composite Monarchy
        has_reform = portuguese_monarchy_reform              #Portuguese Monarchy
        has_reform = kingdom_of_portugal_and_azures          #Portuguese Thassalocracy
        has_reform = portuguese_empire_reform                #Portuguese Empire  
        has_reform = bohemian_elective_kingdom_reform        #Bohemian Elective Monarchy
        has_reform = polish_great_sejm                       #Great Sejm
        has_reform = grand_duchy_reform                      #Grand Duchy
        has_reform = norwegian_parliamentary_monarchy        #Norwegian Monarchy
        has_reform = office_of_lord_regent_reform            #Office of the Lord Regent
        has_reform = tsardom                                 #Tsardom
        has_reform = german_kaiserreich                      #German Kaiserreich
        has_reform = prussian_monarchy                       #Prussian Monarchy
        has_reform = prussian_republic                       #Stratocratic Administration
        has_reform = german_prussian_reform                  #Army with a State
        has_reform = savoia_reform                           #I Savoia
        has_reform = visconti_dukes_of_milan                 #Visconti Dukes of Milan
        has_reform = house_of_este_reform                    #House of Este
        has_reform = house_of_gonzaga_reform                 #House of Gonzaga
        has_reform = palaiologos_montferrat_reform           #Palaiologos of Montferrat
        has_reform = autocracy_reform                        #Autocracy
        has_reform = kingdom_of_sicily_reform                #Kingdom of Sicily
        has_reform = italian_monarchy_reform                 #Italian Monarchy
        has_reform = giudicati_sardi_reform                  #Giudicati Sardi
        has_reform = apostolic_kingdom                       #Apostolic Kingdom
        has_reform = stadthalter_monarchy_reform             #Stadhouder Monarchy
        has_reform = elective_monarchy_reform                #Elective Monarchy
        has_reform = kalmar_union                            #Kalmar Union
        has_reform = byzantine_autocracy_reform              #Byzantine Autocracy
        has_reform = belgian_kingdom_reform                  #Belgian Kingdom
        has_reform = austrian_duchy_reform                   #Austrian Duchy
        has_reform = austrian_archduchy_reform               #Austrian Archduchy
        has_reform = austrian_absolute_monarchy              #Austrian Absolute Monarchy
        has_reform = hessian_militarized_monarchy_reform     #Hessian Militarized Monarchy
        has_reform = granadan_iqta_reform                    #Granadan Iqta
        has_reform = kingdom_of_gao_reform                   #Kingdom of Gao
        has_reform = ajuuraan_theocracy_reform               #Somalian Theocracy
        has_reform = jewish_patriarchate_reform              #Patriarhiya
    }
}

has_ToR_muslim_government_reform = {
    OR = {
        has_reform = iqta
        has_reform = mamluk_government
        has_reform = barbary_sultanate_reform
        has_reform = islamic_imamate_reform
        has_reform = unlocked_islamic_imamate_reform
        has_reform = islamic_grand_muftate_reform
        has_reform = unlocked_islamic_grand_muftate_reform
        has_reform = islamic_sheikdom_reform
        has_reform = unlocked_islamic_sheikdom_reform
        has_reform = islamic_sharifate_reform
        has_reform = unlocked_islamic_sharifate_reform
        has_reform = islamic_governate_reform
        has_reform = unlocked_islamic_governate_reform
        has_reform = islamic_emirate_reform
        has_reform = unlocked_islamic_emirate_reform
        has_reform = islamic_sultanate_reform
        has_reform = unlocked_islamic_sultanate_reform
        has_reform = islamic_taifa_reform
        has_reform = unlocked_islamic_taifa_reform
        has_reform = islamic_malikate_reform
        has_reform = unlocked_islamic_malikate_reform
        has_reform = islamic_mystic_order_reform
    }
}

is_muslim_subject_type = {
    OR = {
        is_subject_of_type = islamic_imamate
        is_subject_of_type = islamic_grand_muftate
        is_subject_of_type = islamic_sheikdom
        is_subject_of_type = islamic_sharifate
        is_subject_of_type = islamic_governate
        is_subject_of_type = islamic_emirate
        is_subject_of_type = islamic_sultanate
        is_subject_of_type = islamic_taifa
        is_subject_of_type = islamic_malikate
        is_subject_of_type = islamic_nikkah_PU
    }
}

is_slavic_subject_type = {
    OR = {
        is_subject_of_type = bosnian_banat_kingdom
        is_subject_of_type = slavic_vojvodina
        is_subject_of_type = voivodeship
    }
}

is_theocratic_subject_type = {
    OR = {
        is_subject_of_type = european_abbacy
        is_subject_of_type = european_bishopric
        is_subject_of_type = european_archbishopric
    }
}

is_republican_subject_type = {
    OR = {
        is_subject_of_type = feudal_republic
        is_subject_of_type = merchantlist_republic
        is_subject_of_type = venetian_republic
        is_subject_of_type = genoese_commercial_republic
    }
}

is_ToR_subject_type = {
    OR = {
        is_lordship_subject_type = yes
        is_barony_subject_type = yes
        is_viscounty_subject_type = yes
        is_county_subject_type = yes
        is_earldom_subject_type = yes
        is_marquisate_subject_type = yes
        is_duchy_subject_type = yes
        is_principality_subject_type = yes
        is_kingdom_subject_type = yes
        is_crown_subject_type = yes
        is_muslim_subject_type = yes
        is_slavic_subject_type = yes
        #is_theocratic_subject_type = yes
        is_subject_of_type = turkish_tributary_beylik_vassal
        is_subject_of_type = lezhe_league_member
    }
}

is_ToR_rein_in_able = {
    OR = {
        is_lordship_subject_type = yes
        is_barony_subject_type = yes
        is_viscounty_subject_type = yes
        is_county_subject_type = yes
        is_earldom_subject_type = yes
        is_marquisate_subject_type = yes
        is_duchy_subject_type = yes
        is_principality_subject_type = yes
        is_kingdom_subject_type = yes
        is_crown_subject_type = yes
        is_muslim_subject_type = yes
    }
}

is_colourable_subject_type = {
    NOT = {
        is_subject_of_type = tributary_state
        is_subject_of_type = brother_kingdom
    }
}

ToR_subject_limit_reached = {
    calc_true_if = {
        all_subject_country = {
            is_ToR_subject_type = yes
        }
        amount = 25 #Total limit for Subjects -Don, Prussia
    }
}

ToR_Muslim_subject_limit_reached = {
    calc_true_if = {
        all_subject_country = {
            is_muslim_subject_type = yes
        }
        amount = 25 #Total limit for Subjects -Don, Prussia
    }
}